//@ui5-bundle de/henloh/prodts/Component-preload.js
sap.ui.require.preload({
	"de/henloh/prodts/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","./model/models","sap/ui/model/json/JSONModel","sap/ui/core/ComponentSupport","sap/ui/core/date/Gregorian","sap/ui/model/type/Date"],function(e,t,s,n,o,i,a){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const c=t["support"];const l=d(s);const u=e.extend("de.henloh.prodts.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function t(){e.prototype.init.call(this);var s=new n("./data/Products.json");var o=new n("./data/Factories.json");s.setDefaultBindingMode("TwoWay");o.setDefaultBindingMode("TwoWay");this.setModel(s,"GoodModel");this.setModel(o,"FactorieModel");this.setModel(l.createDeviceModel(),"device");this.getRouter().initialize()},getContentDensityClass:function e(){if(this.contentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this.contentDensityClass=""}else if(!c.touch){this.contentDensityClass="sapUiSizeCompact"}else{this.contentDensityClass="sapUiSizeCozy"}}return this.contentDensityClass}});return u});
},
	"de/henloh/prodts/controller/App.controller.js":function(){
sap.ui.define(["./BaseController"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=t(e);const o=n.extend("de.henloh.prodts.controller.App",{onInit:function e(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())}});return o});
},
	"de/henloh/prodts/controller/BaseController.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","./Types","sap/ui/core/routing/History"],function(e,t,n,o){"use strict";const r=n["Game"];const i=e.extend("de.henloh.prodts.controller.BaseController",{getOwnerComponent:function t(){return e.prototype.getOwnerComponent.call(this)},getRouter:function e(){return t.getRouterFor(this)},getResourceBundle:function e(){const t=this.getOwnerComponent().getModel("i18n");return t.getResourceBundle()},getModel:function e(t){return this.getView().getModel(t)},setModel:function e(t,n){this.getView().setModel(t,n);return this},navTo:function e(t,n,o){this.getRouter().navTo(t,n,undefined,o)},onNavBack:function e(){const t=o.getInstance().getPreviousHash();if(t!==undefined){window.history.go(-1)}else{this.getRouter().navTo("main",{},undefined,true)}},getData:function e(){var t=this.getOwnerComponent().getModel("Goods");var n=this.getOwnerComponent().getModel("Factories");return new r(t.getData().Goods,n.getData().Factories)}});return i});
},
	"de/henloh/prodts/controller/Main.controller.js":function(){
sap.ui.define(["./BaseController","../model/formatter","sap/ui/model/json/JSONModel","sap/ui/core/format/NumberFormat"],function(t,e,r,o){"use strict";function a(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const s=a(t);const i=a(e);const c=s.extend("de.henloh.prodts.controller.Main",{constructor:function t(){s.prototype.constructor.apply(this,arguments);this.formatter=i},onInit:function t(){var e=new r;e.setData({Factory:"",isFactory:false,Products:[],Materials:[],Cost:0,ProductionCap:0,Product:"",isProduct:false,BoughtBy:[],ProducedBy:[],Dangerous:false,Illegal:false,AvgPrice:0,Level:0});this.getView().setModel(e,"View");this.getRouter().getRoute("main").attachPatternMatched(this.onPatternMatched,this);var o=this.byId("productInput");var a=this.byId("factoryInput");o.setFilterFunction(function(t,e){return e.getText().match(new RegExp("^"+t,"i"))});a.setFilterFunction(function(t,e){return e.getText().match(new RegExp("^"+t,"i"))})},buildProdLine:function t(e){this.getRouter().navTo("productionLine")},onPatternMatched:function t(e){var o=new r;o.setData(this.getData());this.getView().setModel(o,"Data");var a=this.getView().getModel("View");try{var s=e.getParameter("arguments")["?query"];if(s.factory){a.setProperty("/Factory",s.factory.replace("%2520"," "));this.submitFactory(e)}if(s.good){a.setProperty("/Product",s.good.replace("%2520"," "));this.submitGood(e)}}catch(t){console.error(t)}},submitGood:function t(e){var r=this.getData();var o=this.getView().getModel("View");var a=r.getProduct(o.getProperty("/Product"));o.setProperty("/isProduct",true);o.setProperty("/isFactory",false);o.setProperty("/Illegal",a.Illegal);o.setProperty("/Dangerous",a.Dangerous);o.setProperty("/AvgPrice",a.AvgPrice);o.setProperty("/Level",a.Level);o.setProperty("/BoughtBy",r.getCustomersOfProduct(a.Name));o.setProperty("/ProducedBy",r.getFactoriesFromProduct(a.Name));this.getRouter().navTo("main",{query:{good:o.getProperty("/Product")}},{},true)},submitFactory:function t(e){var r=this.getData();var o=this.getView().getModel("View");var a=r.getFactory(o.getProperty("/Factory"));o.setProperty("/isProduct",false);o.setProperty("/isFactory",true);o.setProperty("/Cost",a.Cost);o.setProperty("/ProductionCap",a.ProductionCap);o.setProperty("/Materials",r.getMaterialsForFactory(a.Name));o.setProperty("/Products",r.getProductsFromFactory(a.Name));this.getRouter().navTo("main",{query:{factory:o.getProperty("/Factory")}},{},true)},onSelectNewFactory:function t(e,r){var o=this.getView().getModel("View");o.setProperty("/Factory",r);this.submitFactory(e)},onSelectNewProduct:function t(e,r){var o=this.getView().getModel("View");o.setProperty("/Product",r);this.submitGood(e)},FormatCredits:function t(e){var r=o.getIntegerInstance({groupingEnabled:true,groupingSize:3,groupingSeparator:","});return r.format(e)},showAllProducts:function t(e){var r=this.getView().getModel("View");var o=this;r.setProperty("/isProduct",false);r.setProperty("/isFactory",true);r.setProperty("/Cost","");r.setProperty("/ProductionCap","");r.setProperty("/Materials",[]);var a=o.getData().Goods;r.setProperty("/Products",a)},showAllFactories:function t(e){var r=this.getView().getModel("View");var o=this;r.setProperty("/isProduct",true);r.setProperty("/isFactory",false);r.setProperty("/Illegal",false);r.setProperty("/Dangerous",false);r.setProperty("/AvgPrice","");r.setProperty("/Level","");r.setProperty("/BoughtBy",[]);var a=o.getData().Factories;r.setProperty("/ProducedBy",a)}});return c});
},
	"de/henloh/prodts/controller/Permutation.controller.js":function(){
sap.ui.define(["./BaseController","../model/formatter","sap/ui/model/json/JSONModel"],function(t,n,e){"use strict";function a(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const o=a(t);const r=a(n);const s=o.extend("de.henloh.prodts.controller.Permutation",{constructor:function t(){o.prototype.constructor.apply(this,arguments);this.formatter=r},onInit:function t(){var n=new e;document.title="Permutation";n.setData({text:""});this.getView().setModel(n,"View");this.getRouter().getRoute("main").attachPatternMatched(this.onPatternMatched,this)},onPatternMatched:function t(n){},zooExample:function t(n){var e=this.getView().getModel("View");e.setProperty("/text",`{\n\t"columns": [{\n\t\t"title": "Animal",\n\t\t"parts": [["animals", "animal"],["colors", "color"],["foods", "food"]]\n\t},{\n\t\t"title": "Home",\n\t\t"parts": [["continent"]]\n\t},{\n\t\t"title": "Weight and Height",\n\t\t"parts": [["animals", "weight"],["space"],["animals", "height"]]\n\t}],\n\t"data": {\n\t\t"animals": [\n\t\t\t{"animal": "Zebras are ",\n\t\t\t\t"weight": "800kg",\n\t\t\t\t"height": "200cm"},\n\t\t\t{"animal": "Lions are ",\n\t\t\t\t"weight": "400kg",\n\t\t\t\t"height": "100cm"}\n\t\t],\n\t\t"colors": [\n\t\t\t{"color": "black and white"},\n\t\t\t{"color": "purple"},\n\t\t\t{"color": "green"}\n\t\t],\n\t\t"foods": [\n\t\t\t{"food": " and likes to eat grass."},\n\t\t\t{"food": " and likes to eat lions."},\n\t\t\t{"food": " and likes to eat girafes."}\n\t\t],\n\t\t"continent": ["Africa"],\n\t\t"space": [" "]\n\t}\n}`);this.generateCSV(n)},doorExample:function t(n){var e=this.getView().getModel("View");e.setProperty("/text",`{\n\t"columns": [{\n\t\t"title": "Year of Production",\n\t\t"parts": [["yop"]]\n\t},{\n\t\t"title": "Part number",\n\t\t"parts": [["handles", "partno"], ["frames", "partno"], ["minus"], ["doors", "partno"]]\n\t},{\n\t\t"title": "Handle",\n\t\t"parts": [["handles", "Name"]]\n\t},{\n\t\t"title": "Frame",\n\t\t"parts": [["frames", "Name"]]\n\t},{\n\t\t"title": "Door",\n\t\t"parts": [["doors", "Name"]]\n\t}],\n\t"data": {\n\t\t"yop": ["2024"],\n\t\t"minus": ["-"],\n\t\t"handles": [\n\t\t\t{"partno": "700",\n\t\t\t "Name": "Silver"},\n\t\t\t{"partno": "800",\n\t\t\t "Name": "Gold"},\n\t\t\t{"partno": "801",\n\t\t\t "Name": "Rosegold"},\n\t\t\t{"partno": "900",\n\t\t\t "Name": "Stainless"},\n\t\t\t{"partno": "300",\n\t\t\t "Name": "Brass"},\n\t\t\t{"partno": "600",\n\t\t\t "Name": "No handle"},\n\t\t\t{"partno": "601",\n\t\t\t "Name": "No lock"}\n\t\t],\n\t\t"frames": [\n\t\t\t{"partno": "010",\n\t\t\t "Name": "Ash"},\n\t\t\t{"partno": "020",\n\t\t\t "Name": "Birch"},\n\t\t\t{"partno": "030",\n\t\t\t "Name": "Cherry"},\n\t\t\t{"partno": "040",\n\t\t\t "Name": "Oak"},\n\t\t\t{"partno": "050",\n\t\t\t "Name": "Spruce"},\n\t\t\t{"partno": "060",\n\t\t\t "Name": "Stainless"},\n\t\t\t{"partno": "001",\n\t\t\t "Name": "No frame"}\n\t\t],\n\t\t"doors": [\n\t\t\t{"partno": "888",\n\t\t\t "Name": "Ash"},\n\t\t\t{"partno": "999",\n\t\t\t "Name": "Oak"},\n\t\t\t{"partno": "777",\n\t\t\t "Name": "Birch"},\n\t\t\t{"partno": "444",\n\t\t\t "Name": "Spruce"},\n\t\t\t{"partno": "001",\n\t\t\t "Name": "No door"}\n\t\t]\n\t}\n}`);this.generateCSV(n)},clearData:function t(n){var e=this.getView().getModel("View");e.setProperty("/Final"," ");e.setProperty("/text"," ")},downloadCSV:function t(n){var e=this.getView().getModel("View");var a=e.getProperty("/Final");var o=document.createElement("a");o.href="data:text/csv;charset=utf-8,"+encodeURI(a);o.target="_blank";o.download="generiert.csv";o.click()},generateCSV:function t(n){var e=this.getView().getModel("View");var a=e.getProperty("/text");try{var o="";var r=JSON.parse(a);for(const t of r.columns){o+=t.title+";"}o+="\n";var s=Object.keys(r.data);var l=0;for(const t of s){l==0?l=r.data[t].length:l*=r.data[t].length}var i=[];var c=function(t,n,e){for(let g=0;g<t.length;g++){var a=t[g];for(let v=0;v<a.length;v++){var o=a[v];var s=JSON.parse(JSON.stringify(n));if(o===null){var l=s[g][v].data;for(let a=0;a<l.length;a++){var p=JSON.parse(JSON.stringify(t));var m=n[g][v].name;for(let t=0;t<r.columns.length;t++){for(let n=0;n<r.columns[t].parts.length;n++){var u=r.columns[t].parts[n];var d=r.columns[t].parts[n][1];if(u[0]===m&&p[t][n]===null){p[t][n]=l[a][d]}}}var h=false;var f="";for(const t of p){for(const n of t){if(n===null){h=true;break}f+=n}if(h)break;f+=";"}f+="\n";if(!h){e.push(f);i.push(m)}if(a===l.length-1){}c(p,s,e)}return e}}}};var p=[];var m=[];for(let t=0;t<r.columns.length;t++){p.push([]);m.push([]);for(let n=0;n<r.columns[t].parts.length;n++){const e=r.columns[t].parts[n];if(e.length===1){p[t].push(r.data[r.columns[t].parts[n][0]][0]);m[t].push(null)}else{var u=r.columns[t].parts[n][0];p[t].push(null);m[t].push({name:u,data:r.data[u]})}}}var d=c(p,m,[]);for(const t of d){o+=t}e.setProperty("/rowCount",l);e.setProperty("/Final",o)}catch(t){console.error(t)}}});return s});
},
	"de/henloh/prodts/controller/ProductionLine.controller.js":function(){
sap.ui.define(["sap/m/MessageBox","./BaseController","../model/formatter","sap/ui/model/json/JSONModel","./Types","sap/m/Panel","sap/m/Select","sap/ui/core/Item","sap/m/Title","sap/m/Button","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/util/File"],function(t,e,r,o,a,s,i,c,n,l,d,h,g,p){"use strict";function u(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const f=u(e);const v=u(r);const y=a["Factory"];const m=a["Game"];const P=a["Product"];class F extends P{constructor(t,e,r){super(t.Name,t.Dangerous,t.Illegal,t.AvgPrice,t.Level,t.Customers,t.Manufacturer);this.parent=r;this.game=e;this.factoryOptions=[];this.subs={}}getId(){if(this.parent.getId){return this.parent.getId()+"/"+this.Name.replace(/\s/g,"")}else{return this.Name.replace(/\s/g,"")}}getActiveFactory(){var t=[];for(const e of this.factoryOptions){if(e.active){t=t.concat(e.getActiveSubs());t.indexOf(e.Name)===-1?t.push(e.Name):null;return t}}}getExportFactory(){var t={};for(const e of this.factoryOptions){if(e.active){t.Name=e.Name;t.requiredProducts=[];for(const r of e.requiredProducts){t.requiredProducts.push({Name:r.Name,Factory:r.getExportFactory()})}}}return t}getSubGoods(){var t=[];for(const e of this.factoryOptions){t=t.concat(e.getAllGoods())}return t}setActiveFactory(t){if(!(this.factoryOptions.length>0))return;for(const r of this.factoryOptions){r.active=false;if(r.Name==t){r.active=true;if(this.factoryOptions.length>1){var e=this.control.getContent()[0];e.setSelectedKey(r.Name.replace(/\s/g,""))}}}}setFactoryActive(){if(this.factoryOptions.length==1){this.factoryOptions[0].active=true;return this.factoryOptions[0]}else if(this.factoryOptions.length>1){var t=this.factoryOptions[0];for(const r of this.factoryOptions){var e=t.getMaterialLevelCombined();if(r.getMaterialLevelCombined()<e){t=r}}t.active=true;return t}}setActiveFactoryRecursiv(t,e){if(this.Name==t){this.setActiveFactory(e);return}if(this.factoryOptions.length>0){for(const r of this.factoryOptions){r.checkMaterialList(t,e)}}}buildControl(t){this.id=this.getId();this.control=new s(this.Name.replace(/\s/g,"")+this.game.getPanelId(),{expanded:false,expandable:true,headerText:`{View>/game/subs/${this.id}/Name}`});this.control.addStyleClass("avlevel"+t);this.game.deathZone.push(this.control);t++;var e=this.game.getFactoriesForProduct(this.Name);try{for(const t of e){var r=new b(t,this.game,this);this.factoryOptions.push(r)}}catch(t){console.warn("No factory for "+this.Name);this.control.setExpandable(false);this.control.addStyleClass("dontShowContent")}if(this.factoryOptions.length==1){this.factoryOptions[0].buildControl(this.Level,t);this.control.addContent(this.factoryOptions[0].control);this[this.factoryOptions[0].Name.replace(/\s/g,"")]=this.factoryOptions[0];this.setFactoryActive()}else if(this.factoryOptions.length>1){var o=new i(this.Name.replace(/\s/g,"")+this.game.getPanelId(),{selectedItem:`View>/game/subs/${this.id}/activeChild`,items:{path:`View>/game/subs/${this.id}/factoryOptions`,template:new c({text:"{View>Name}",key:"{View>selectid}"}),templateShareable:true},change:this.game.that.selectFactory});this.game.deathZone.push(o);var a=this.setFactoryActive();o.setSelectedKey(a.Name.replace(/\s/g,""));var n=new l(this.Name.replace(/\s/g,"")+this.game.getPanelId(),{text:`Apply to all {View>/game/subs/${this.id}/Name} facilities.`,press:this.game.that.setBaseFactory}).addStyleClass("sapUiSmallMarginBegin");this.game.deathZone.push(n);this.control.addContent(o);this.control.addContent(n);for(var d of this.factoryOptions){d.buildControl(this.Level,t);this[d.Name.replace(/\s/g,"")]=d;this.control.addContent(d.control)}}}}class b extends y{constructor(t,e,r){super(t.Name,t.ProductionCap,t.Cost,t.Products,t.Materials);this.parent=r;this.game=e;this.selectid=t.Name.replace(/\s/g,"");this.requiredProducts=[];this.active=false;this.subs={}}getId(){return this.parent.getId()+"/"+this.Name.replace(/\s/g,"")}getMaterialLevelCombined(){var t=0;for(const e of this.Materials){t+=this.game.getProduct(e).Level}return t}getAllGoods(){var t=[];for(const e of this.requiredProducts){t.push(e);t=t.concat(e.getSubGoods())}return t}getActiveSubs(){var t=[];for(const e of this.requiredProducts){t=t.concat(e.getActiveFactory())}return t}checkMaterialList(t,e){if(this.Products.indexOf(t)>=0)this.active=this.Name==e;for(const r of this.requiredProducts){if(r.Name==t){r.setActiveFactory(e)}r.setActiveFactoryRecursiv(t,e)}}buildControl(t,e){this.id=this.getId();if(t==0){this.control=new n(this.Name.replace(/\s/g,"")+this.game.getPanelId(),{width:"100%",visible:`{View>/game/subs/${this.id}/active}`,text:`{View>/game/subs/${this.id}/Name}`})}else{this.control=new s(this.Name.replace(/\s/g,"")+this.game.getPanelId(),{expanded:true,expandable:true,visible:`{View>/game/subs/${this.id}/active}`,headerText:`{View>/game/subs/${this.id}/Name}`});var r=this.game.getMaterialsForFactory(this.Name);for(const t of r){var o=new F(t,this.game,this);this.requiredProducts.push(o)}for(var a of this.requiredProducts){a.buildControl(e);this.control.addContent(a.control);this[a.Name.replace(/\s/g,"")]=a}}this.game.deathZone.push(this.control)}}class N extends m{constructor(t,e){super(t,e);this.deathZone=[];this.availableGoods=[];this.reqFactories=[];this.prodTree=[];this.products=[];this.panelCount=0;this.subs={}}setTargetFactory(t){this.targetFactory=this.getFactory(t);this.products=this.getMaterialsForFactory(this.targetFactory.Name);for(const t of this.products){var e=new F(t,this,this);this.prodTree.push(e)}for(var r of this.prodTree){r.buildControl(0);this.subs[r.id]=r}return this.subs}clearDeathZone(){for(const t of this.deathZone){t.destroy()}}getActiveFactories(){var t=[];for(var e of this.prodTree){t=t.concat(e.getActiveFactory())}t=[...new Set(t)];for(let e=t.length-1;e>-1;e--){const r=t[e];if(r==undefined)t.splice(e,1)}return t}getExportTree(){var t={};for(var e of this.prodTree){t[e.Name]={Name:e.Name,Factory:e.getExportFactory()}}return t}setBaseFactory(t,e){for(var r in this.subs){this.subs[r].setActiveFactoryRecursiv(t,e)}}setAvailableGood(t){this.availableGoods.push(t);var e=[];for(const t of this.prodTree){e.push(t);e=e.concat(t.getSubGoods())}for(const r of e){if(r.Name==t){r.control.addStyleClass("dontShowContent");r.control.setExpandable(false);for(const t of r.factoryOptions){t.active=false}}}}getPanelId(){this.panelCount++;return this.panelCount}}class w extends f{formatter=v;onInit(){var t=new o;t.setData({TargetFactory:"",products:[]});this.getView().setModel(t,"View");this.getRouter().getRoute("productionLine").attachPatternMatched(this.onPatternMatched,this);var e=this.byId("targetFactoryInput");e.setFilterFunction(function(t,e){return e.getText().match(new RegExp("^"+t,"i"))})}async generateProductionLine(t){var e=this;var r=this.getView();var o=this.getModel("View");var a;try{a=o.getProperty("/game");if(a){a.clearDeathZone()}a=new N(this.getModel("GoodModel").getProperty("/Goods"),this.getModel("FactorieModel").getProperty("/Factories"))}catch(t){console.error(t)}a.that=e;var s=r.byId("targetFactoryInput").getValue();o.setProperty("/products",a.getProductsFromFactory(s));a.setTargetFactory(s);for(var i in a.subs){e.byId("DetailedProdList").addItem(a.subs[i].control)}o.setProperty("/game",a);o.setProperty("/requiredFactories",a.getActiveFactories().sort())}selectFactory(t){var e=t.getSource();var r=t.getParameters().selectedItem;var o=this.getModel("View");var a=e.getBindingPath("items");var s=o.getProperty(a);for(var i=0;i<s.length;i++){o.setProperty(a+`/${i}/active`,false);if(o.getProperty(a+`/${i}/Name`)==r.getText()){o.setProperty(a+`/${i}/active`,true)}}var c=o.getProperty("/game");o.setProperty("/requiredFactories",c.getActiveFactories().sort())}setBaseFactory(t){var e=this.getModel("View");var r=e.getProperty("/game");var o=t.getSource();var a=o.getBindingPath("text");var s=e.getProperty(a);var i=e.getProperty(a.substring(0,a.lastIndexOf("/")));i=i.control.getContent()[0].getSelectedItem().getText();r.setBaseFactory(s,i);e.setProperty("/game",r);e.setProperty("/requiredFactories",r.getActiveFactories().sort())}addAvailableGood(t){var e=this.getView();var r=this;try{r.selectDialog.open("")}catch(t){d.load({id:"speccalDialog",name:"de.henloh.prodts.view.Dialog",controller:this}).then(function(t){t.setModel(e.getModel("GoodModel"));t.open("");r.selectDialog=t}.bind(this))}}onDialogClose(t){var e=t.getParameter("selectedContexts");var r=this.getModel("View");var o=r.getProperty("/game");if(e&&e.length){e.map(function(t){try{o.setAvailableGood(t.getObject().Name)}catch(t){console.warn(t)}});r.setProperty("/availableGoods",o.availableGoods);r.setProperty("/game",o)}t.getSource().getBinding("items").filter([]);r.setProperty("/requiredFactories",o.getActiveFactories().sort())}onSearch(t){var e=t.getParameter("value");var r=new h("Name",g.Contains,e);var o=t.getParameter("itemsBinding");o.filter([r])}handleDownloadPress(){var t=this.getModel("View");var e=t.getProperty("/game");var r={targetFactory:t.getProperty("/TargetFactory"),availableGoods:t.getProperty("/availableGoods"),requiredFactories:t.getProperty("/requiredFactories"),products:t.getProperty("/products"),basicTree:e.getExportTree()};var o=JSON.stringify(r);p.save(o,"data","json","application/json","utf-8")}openUploadDialog(t){var e=this;try{e.importDialog.open()}catch(t){d.load({id:"speccalDialog2",name:"de.henloh.prodts.view.Import",controller:this}).then(function(t){t.open();e.importDialog=t}.bind(this))}}closeDialog(t){this.importDialog.close()}handleUploadPress(e){var r=e.getParameters().item.getFileObject();var o=this;var a=new FileReader;var s=this.getModel("View");a.readAsText(r);a.onload=function(){var e=JSON.parse(a.result);try{s.setProperty("/TargetFactory",e.targetFactory);s.setProperty("/availableGoods",e.availableGoods);s.setProperty("/requiredFactories",e.requiredFactories);s.setProperty("/products",e.products);var r=e.basicTree;var i;i=s.getProperty("/game");if(i){i.clearDeathZone()}i=new N(o.getModel("GoodModel").getProperty("/Goods"),o.getModel("FactorieModel").getProperty("/Factories"));i.that=o;i.setTargetFactory(e.targetFactory);for(var c in i.subs){o.byId("DetailedProdList").addItem(i.subs[c].control)}s.setProperty("/game",i)}catch(e){t.show("Uploaded data does not contain a production-tree.")}}}onPatternMatched(t){}}return w});
},
	"de/henloh/prodts/controller/Types.js":function(){
sap.ui.define([],function(){"use strict";class t{constructor(t,r,s,o,c,e,u){this.Name=t;this.Dangerous=r;this.Illegal=s;this.AvgPrice=o;this.Level=c;this.Customers=e;this.Manufacturer=u}}class r{constructor(t,r,s,o,c){this.Name=t;this.ProductionCap=r;this.Cost=s;this.Products=o;this.Materials=c}}class s{constructor(t,r){this.Goods=t;this.Factories=r}getFactory(t){for(const r of this.Factories){if(r.Name==t)return r}}getProduct(t){for(const r of this.Goods){if(r.Name==t)return r}}getProductsFromFactory(t){var r=[];const s=this.getFactory(t);for(const t of s.Products){r.push(this.getProduct(t))}return r}getMaterialsForFactory(t){var r=[];const s=this.getFactory(t);for(const t of s.Materials){r.push(this.getProduct(t))}return r}getFactoriesFromProduct(t){var r=[];const s=this.getProduct(t);for(const t of s.Manufacturer){r.push(this.getFactory(t))}return r}getFactoriesForProduct(t){var r=[];const s=this.getProduct(t);for(const t of s.Manufacturer){r.push(this.getFactory(t))}return r}getCustomersOfProduct(t){var r=[];const s=this.getProduct(t);for(const t of s.Customers){r.push(this.getFactory(t))}return r}}var o={__esModule:true};o.Product=t;o.Factory=r;o.Game=s;return o});
},
	"de/henloh/prodts/i18n/i18n.properties":'appTitle=Avorion Production Information\r\nappDescription=Avorion Production',
	"de/henloh/prodts/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"de.henloh.prodts","type":"application","i18n":"i18n/i18n.properties","title":"{{appTitle}}","description":"{{appDescription}}","applicationVersion":{"version":"1.0.0"},"dataSources":{"products":{"uri":"data/Products.json","type":"JSON"},"factories":{"uri":"data/Factories.json","type":"JSON"}}},"sap.ui":{"technology":"UI5","icons":{},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"rootView":{"viewName":"de.henloh.prodts.view.App","type":"XML","async":true,"id":"app"},"dependencies":{"minUI5Version":"1.108.0","libs":{"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.unified":{},"sap.m":{}}},"resources":{"css":[{"uri":"css/style.css"}],"js":[]},"handleValidation":true,"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"de.henloh.prodts.i18n.i18n"}},"Goods":{"type":"sap.ui.model.json.JSONModel","dataSource":"products"},"Factories":{"type":"sap.ui.model.json.JSONModel","dataSource":"factories"}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"de.henloh.prodts.view","controlId":"app","controlAggregation":"pages","async":true},"routes":[{"pattern":":?query:","name":"main","target":"main"},{"pattern":"productionLine/:?query:","name":"productionLine","target":"productionLine"},{"pattern":"Permutation","name":"permutation","target":"permutation"}],"targets":{"main":{"viewId":"main","viewName":"Main"},"productionLine":{"viewId":"productionLine","viewName":"ProductionLine"},"permutation":{"viewId":"permutation","viewName":"Permutation"}}}}}',
	"de/henloh/prodts/model/formatter.js":function(){
sap.ui.define([],function(){"use strict";var r={formatValue:r=>{if(!r){return""}try{return parseFloat(r).toFixed(2)}catch(t){return r}}};return r});
},
	"de/henloh/prodts/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/model/BindingMode","sap/ui/Device"],function(e,i,n){"use strict";var d={createDeviceModel:()=>{const d=new e(n);d.setDefaultBindingMode(i.OneWay);return d}};return d});
},
	"de/henloh/prodts/view/App.view.xml":'<mvc:View\r\n\tcontrollerName="de.henloh.prodts.controller.App"\r\n\tdisplayBlock="true"\r\n\txmlns="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"><App id="app" /></mvc:View>',
	"de/henloh/prodts/view/Dialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><SelectDialog\r\n\t\tid="mySelectDialog"\r\n\t\tnoDataText="No Products Found"\r\n\t\ttitle="Select Product"\r\n\t\tsearch=".onSearch"\r\n\t\tliveChange=".onSearch"\r\n\t\tconfirm=".onDialogClose"\r\n\t\tcancel=".onDialogClose"\r\n\t\titems="{\r\n\t\t\tpath: \'/Goods\'\r\n\t\t}"><StandardListItem\r\n\t\t\ttitle="{Name}"\r\n\t\t\tdescription=""\r\n\t\t\ticon=""\r\n\t\t\ticonDensityAware="false"\r\n\t\t\ticonInset="false"\r\n\t\t\ttype="Active" /></SelectDialog></core:FragmentDefinition>',
	"de/henloh/prodts/view/Import.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:u="sap.m.upload"\r\n    xmlns:core="sap.ui.core"><Dialog title="Upload JSON" \r\n        stretch="true" \r\n        horizontalScrolling="false" \r\n        verticalScrolling="false"><content><u:UploadSet fileTypes="json" afterItemAdded="handleUploadPress" /></content><buttons><Button text="Cancel" press="closeDialog" /><Button text="Upload" press="handleUploadPress" /></buttons></Dialog></core:FragmentDefinition>\r\n',
	"de/henloh/prodts/view/Main.view.xml":'<mvc:View\r\n\tcontrollerName="de.henloh.prodts.controller.Main"\r\n\tdisplayBlock="true"\r\n\txmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:c="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc"><Page title="Avorion Production Information" id="mainPage"><headerContent><Button text="Build production line" press="buildProdLine" /></headerContent><content><f:Form id="FormDisplay480_12120"\r\n        editable="true"><f:layout><f:ResponsiveGridLayout\r\n                labelSpanXL="4"\r\n                labelSpanL="4"\r\n                labelSpanM="12"\r\n                labelSpanS="12"\r\n                adjustLabelSpan="false"\r\n                emptySpanXL="0"\r\n                emptySpanL="0"\r\n                emptySpanM="0"\r\n                emptySpanS="0"\r\n                columnsXL="2"\r\n                columnsL="2"\r\n                columnsM="2"\r\n                singleContainerFullSize="false" /></f:layout><f:formContainers><f:FormContainer title="Product"><f:formElements><f:FormElement label="Name"><f:fields><Input\r\n\t\t\t\t\t\t\t\tid="productInput"\r\n                                value="{View>/Product}"\r\n\t\t\t\t\t\t\t\tplaceholder="Enter product"\r\n\t\t\t\t\t\t\t\tshowSuggestion="true"\r\n\t\t\t\t\t\t\t\tsubmit="submitGood"\r\n\t\t\t\t\t\t\t\tsuggestionItems="{path:\'GoodModel>/Goods\', length:200}"><suggestionItems><SuggestionItem text="{GoodModel>Name}" /></suggestionItems></Input></f:fields></f:FormElement><f:FormElement label=""><f:fields><Button press="showAllProducts" text="Show all" /></f:fields></f:FormElement></f:formElements></f:FormContainer><f:FormContainer title="Factory"><f:formElements><f:FormElement label="Name"><f:fields><Input\r\n\t\t\t\t\t\t\t\tid="factoryInput"\r\n                                value="{View>/Factory}"\r\n\t\t\t\t\t\t\t\tplaceholder="Enter product"\r\n\t\t\t\t\t\t\t\tshowSuggestion="true"\r\n\t\t\t\t\t\t\t\tsubmit="submitFactory"\r\n\t\t\t\t\t\t\t\tsuggestionItems="{path:\'FactorieModel>/Factories\', length:200}"><suggestionItems><SuggestionItem text="{FactorieModel>Name}" /></suggestionItems></Input></f:fields></f:FormElement><f:FormElement label=""><f:fields><Button press="showAllFactories" text="Show all" /></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers></f:Form><OverflowToolbar class="sapUiSmallMarginTop"\r\n        visible="{View>/isProduct}"><Title text="{View>/Product}" class="LinkTitle" /><Label text="Tier: {View>/Level}" /><ToolbarSpacer/><c:Icon visible="{View>/Dangerous}" alt="Dangerous" tooltip="Dangerous" useIconTooltip="false" src="sap-icon://message-warning" /><c:Icon visible="{View>/Illegal}" alt="Illegal" tooltip="Illegal" useIconTooltip="false" src="sap-icon://badge" /><ToolbarSpacer/><Label text="avg. Price: {path: \'View>/AvgPrice\', formatter:\'.FormatCredits\'} Cr."></Label></OverflowToolbar><List\r\n        class="sapUiSmallMarginTop"\r\n        width="100%"\r\n        noDataText="Error"\r\n        items="{\r\n            path: \'View>/ProducedBy\',\r\n            length: 200\r\n        }"\r\n        visible="{View>/isProduct}"\r\n        showNoData="true"><headerToolbar><Toolbar><content><Title text="Produced by " /><c:Icon src="sap-icon://factory" ></c:Icon></content></Toolbar></headerToolbar><items><CustomListItem><content><OverflowToolbar><Link text="{View>Name}"\r\n                            class="LinkTitle"\r\n                            press="onSelectNewFactory($event,${View>Name})"></Link><ToolbarSpacer/><Label visible="{= ${View>ProductionCap} > 0}" text="Production limit: {path: \'View>ProductionCap\', formatter:\'.FormatCredits\'}"></Label></OverflowToolbar></content></CustomListItem></items></List><List\r\n        width="100%"\r\n        class="sapUiSmallMarginTop"\r\n        noDataText="Error"\r\n        items="{\r\n            path: \'View>/BoughtBy\',\r\n            length: 200\r\n        }"\r\n        visible="{View>/isProduct}"\r\n        showNoData="true"><headerToolbar><Toolbar><content><Title text="Bought by " /><c:Icon src="sap-icon://factory" ></c:Icon></content></Toolbar></headerToolbar><items><CustomListItem><content><OverflowToolbar><Link text="{View>Name}"\r\n                            class="LinkTitle"\r\n                            press="onSelectNewFactory($event,${View>Name})"></Link></OverflowToolbar></content></CustomListItem></items></List><OverflowToolbar class="sapUiSmallMarginTop"\r\n        visible="{View>/isFactory}"><Title text="{View>/Factory}" class="LinkTitle" /><Label text="Price: {path: \'View>/Cost\', formatter:\'.FormatCredits\'} Cr."></Label><ToolbarSpacer/><Label text="Production limit: {path: \'View>/ProductionCap\', formatter:\'.FormatCredits\'}"></Label></OverflowToolbar><List\r\n        class="sapUiSmallMarginTop"\r\n        width="100%"\r\n        noDataText="No Products"\r\n        items="{\r\n            path: \'View>/Products\',\r\n            length: 200\r\n        }"\r\n        visible="{View>/isFactory}"\r\n        showNoData="true"><headerToolbar><Toolbar><content><Title text="Products " /><c:Icon src="sap-icon://supplier" ></c:Icon></content></Toolbar></headerToolbar><items><CustomListItem><content><OverflowToolbar><Link text="{View>Name}"\r\n                            class="LinkTitle"\r\n                            width="300px"\r\n                            press="onSelectNewProduct($event,${View>Name})"></Link><Label text="Tier: {View>Level}"/><ToolbarSpacer/><c:Icon visible="{View>Dangerous}" src="sap-icon://message-warning" ></c:Icon><c:Icon visible="{View>Illegal}" src="sap-icon://badge" ></c:Icon><ToolbarSpacer/><Label text="avg. Price:" /><Label width="65px" textAlign="End" text="{path: \'View>AvgPrice\', formatter:\'.FormatCredits\'}" /><Label text="Cr." /></OverflowToolbar></content></CustomListItem></items></List><List\r\n        width="100%"\r\n        class="sapUiSmallMarginTop sapUiLargeMarginBottom"\r\n        noDataText="No Requirements"\r\n        items="{\r\n            path: \'View>/Materials\',\r\n            length: 200\r\n        }"\r\n        visible="{View>/isFactory}"\r\n        showNoData="true"><headerToolbar><Toolbar><content><Title text="Materials " /><c:Icon src="sap-icon://key-user-settings" ></c:Icon></content></Toolbar></headerToolbar><items><CustomListItem><content><OverflowToolbar><Link text="{View>Name}"\r\n                            class="LinkTitle"\r\n                            width="300px"\r\n                            press="onSelectNewProduct($event,${View>Name})"></Link><Label text="Tier: {View>Level}"/><ToolbarSpacer/><c:Icon visible="{View>Dangerous}" alt="Dangerous" useIconTooltip="false" src="sap-icon://message-warning" ><c:tooltip><c:TooltipBase text="Dangerous"></c:TooltipBase></c:tooltip></c:Icon><c:Icon visible="{View>Illegal}" alt="Illegal" useIconTooltip="false" src="sap-icon://badge" ><c:tooltip><c:TooltipBase text="Illegal"></c:TooltipBase></c:tooltip></c:Icon><ToolbarSpacer/><Label text="avg. Price:" /><Label width="65px" textAlign="End" text="{path: \'View>AvgPrice\', formatter:\'.FormatCredits\'}" /><Label text="Cr." /></OverflowToolbar></content></CustomListItem></items></List></content></Page></mvc:View>',
	"de/henloh/prodts/view/Permutation.view.xml":'<mvc:View\r\n\tcontrollerName="de.henloh.prodts.controller.Permutation"\r\n\tdisplayBlock="true"\r\n\txmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:c="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc"><Page title="Permutation" id="permutationPage"><headerContent></headerContent><content><Button text="Löschen" press="clearData" class="sapUiSmallMarginBegin" /><TextArea class="sapUiSmallMargin" value="{View>/text}" width="96%" growingMaxLines="50" growing="true" /><Button text="Generieren" press="generateCSV" class="sapUiSmallMarginBegin" /><Label text="Generierte Zeilen: {View>/rowCount}" class="sapUiTinyMargin"  /><Label text=" " width="100%" /><Button text="Download" press="downloadCSV" class="sapUiSmallMarginBegin" /><TextArea class="sapUiSmallMargin" value="{View>/Final}" width="96%" growing="true" /><Button text="Zoo example" press="zooExample" class="sapUiSmallMarginBegin" /><Button text="Door example" press="doorExample" class="sapUiSmallMarginBegin" /></content></Page></mvc:View>',
	"de/henloh/prodts/view/ProductionLine.view.xml":'<mvc:View xmlns:dnd="sap.ui.core.dnd"\r\n\tcontrollerName="de.henloh.prodts.controller.ProductionLine"\r\n\tdisplayBlock="true"\r\n\txmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:c="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc"><Page title="Avorion Production Line" id="prodPage" showNavButton="true" navButtonPress="onNavBack"><headerContent><Button\r\n        text="Export"\r\n        press="handleDownloadPress" /><Button\r\n        text="Import"\r\n        press="openUploadDialog" /></headerContent><content><Title text="Target Factory" \r\n        width="90%"\r\n        class="sapUiSmallMargin" /><Input\r\n        id="targetFactoryInput"\r\n        width="300px"\r\n        class="sapUiSmallMarginBegin sapUiSmallMarginEnd"\r\n        value="{View>/TargetFactory}"\r\n        placeholder="Target Factory"\r\n        showSuggestion="true"\r\n        submit="generateProductionLine"\r\n        suggestionItems="{path:\'FactorieModel>/Factories\', length:200}"><suggestionItems><SuggestionItem text="{FactorieModel>Name}" /></suggestionItems></Input><Button text="Show Production Line" press="generateProductionLine" /><List headerText="Products" items="{View>/products}"><StandardListItem title="{View>Name}"></StandardListItem></List><VBox id="DetailedProdList" /><List items="{path:\'View>/requiredFactories\'}"\r\n        width="42.5%"\r\n        class="bottomTwoListLeft sapUiLargeMarginTop sapUiLargeMarginBottom" ><headerToolbar><Toolbar><Text text="Required Factories" /></Toolbar></headerToolbar><items><StandardListItem title="{View>}" /></items></List><List items="{path:\'View>/availableGoods\'}"\r\n        width="42.5%"\r\n        class="bottomTwoListRight sapUiLargeMarginTop sapUiLargeMarginBottom" ><headerToolbar><Toolbar><Text text="Available goods" /><ToolbarSpacer /><Button text="Add Good" press="addAvailableGood" /></Toolbar></headerToolbar><items><StandardListItem title="{View>}" /></items></List></content></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
