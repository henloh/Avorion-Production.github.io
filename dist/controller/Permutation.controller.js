sap.ui.define(["./BaseController","../model/formatter","sap/ui/model/json/JSONModel"],function(t,e,r){function n(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const o=n(t);const a=n(e);const s=o.extend("de.henloh.prodts.controller.Permutation",{constructor:function t(){o.prototype.constructor.apply(this,arguments);this.formatter=a},onInit:function t(){var e=new r;document.title="Permutation";e.setData({text:""});this.getView().setModel(e,"View");this.getRouter().getRoute("main").attachPatternMatched(this.onPatternMatched,this)},onPatternMatched:function t(e){},generateCSV:function t(e){var r=this.getView().getModel("View");var n=r.getProperty("/text");try{var o="";var a=JSON.parse(n);for(const t of a.columns){o+=t.title+";"}o+="\n";var s=Object.keys(a.data);var l=0;for(const t of s){l==0?l=a.data[t].length:l*=a.data[t].length}var u=[];var f=function(t,e,r){for(let g=0;g<t.length;g++){var n=t[g];for(let m=0;m<n.length;m++){var o=n[m];var s=JSON.parse(JSON.stringify(e));if(o===null){var l=s[g][m].data;for(let n=0;n<l.length;n++){var c=JSON.parse(JSON.stringify(t));var i=e[g][m].name;for(let t=0;t<a.columns.length;t++){for(let e=0;e<a.columns[t].parts.length;e++){var h=a.columns[t].parts[e];var p=a.columns[t].parts[e][1];if(h[0]===i&&c[t][e]===null){c[t][e]=l[n][p]}}}var d=false;var v="";for(const t of c){for(const e of t){if(e===null){d=true;break}v+=e}if(d)break;v+=";"}v+="\n";if(!d){r.push(v);u.push(i)}if(n===l.length-1){}f(c,s,r)}return r}}}};var c=[];var i=[];for(let t=0;t<a.columns.length;t++){c.push([]);i.push([]);for(let e=0;e<a.columns[t].parts.length;e++){const r=a.columns[t].parts[e];if(r.length===1){c[t].push(a.data[a.columns[t].parts[e][0]][0]);i[t].push(null)}else{var h=a.columns[t].parts[e][0];c[t].push(null);i[t].push({name:h,data:a.data[h]})}}}var p=f(c,i,[]);for(const t of p){o+=t}r.setProperty("/rowCount",l);r.setProperty("/Final",o)}catch(t){console.error(t)}}});return s});